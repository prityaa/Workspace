#compile the source broadcaster source code 

COMPILER = gcc 
DEBUG = -DDEBUG
POSIXTHREAD = -pthread
POSIX_SOURCE_CODE = posixThread.c
INCLUDE_FUNCTION_BROADCAST =  -DBROADCASTER
INCLUDE_FUNCTION_LISTENER =  -DLISTENER
EXE_FLAG = -o
BROACAST_EXE = Broadcast
LISTENER_EXE = Listener
BROADCAST_SOURCE_CODE = broadcast.c
LISTENER_SOURCE_CODE = listener.c
HEADER_SOURCE_CODE = socket.c

all:
	$(COMPILER) $(POSIXTHREAD) $(INCLUDE_FUNCTION_BROADCAST) $(DEBUG) $(EXE_FLAG) $(BROACAST_EXE) $(BROADCAST_SOURCE_CODE) $(HEADER_SOURCE_CODE) $(POSIX_SOURCE_CODE) 
	
	$(COMPILER) $(INCLUDE_FUNCTION_LISTENER) $(DEBUG) $(EXE_FLAG) $(LISTENER_EXE) $(LISTENER_SOURCE_CODE) $(HEADER_SOURCE_CODE) 

	
	scp $(BROACAST_EXE) $(LISTENER_EXE) akhilesh@10.1.1.176:/home/akhilesh
	scp $(BROACAST_EXE) $(LISTENER_EXE) vinayak@10.1.1.135:/home/vinayak 	

clean:
	rm -f $(BROACAST_EXE) $(LISTENER_EXE)
